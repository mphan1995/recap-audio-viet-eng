<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>RECAP ‚Äì AI Audio Recap</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="bg-glow glow-1"></div>
  <div class="bg-glow glow-2"></div>

  <div class="shell">
    <header class="topbar">
      <div class="brand">
        <div class="logo">R</div>
        <div class="brand-text">
          <div class="title">RECAP</div>
          <div class="sub">AI Recap for more intelligence</div>
        </div>
      </div>

      <div class="top-actions">
        <a class="ghost" href="#" id="btnDownloadJson" title="Download JSON" aria-disabled="true">Download</a>
        <button class="ghost" id="btnClear">Clear</button>
      </div>
    </header>

    <main class="grid">
      <!-- Left: Upload & Settings -->
      <section class="card">
        <h2 class="card-title">Input</h2>

        <div class="dropzone" id="dropzone">
          <input type="file" id="audioFile" accept="audio/*" hidden />
          <div class="dz-inner">
            <div class="dz-icon">üéß</div>
            <div class="dz-text">
              <div class="dz-head">K√©o & th·∫£ audio v√†o ƒë√¢y</div>
              <div class="dz-sub">ho·∫∑c <span class="dz-link" id="pickFile">ch·ªçn file</span> (mp3, wav, m4a...)</div>
            </div>
          </div>
          <div class="dz-meta" id="fileMeta">Ch∆∞a c√≥ file.</div>
        </div>

        <div class="form">
          <div class="row">
            <label>Language</label>
            <select id="language">
              <option value="auto">Auto</option>
              <option value="vi">Vietnamese</option>
              <option value="en">English</option>
            </select>
          </div>

          <div class="row">
            <label>Pipeline</label>
            <div class="toggles">
              <label class="toggle">
                <input type="checkbox" id="diarization" checked />
                <span>Speaker Diarization</span>
              </label>
              <label class="toggle">
                <input type="checkbox" id="gpt" checked />
                <span>GPT Analysis</span>
              </label>
            </div>
          </div>

          <button class="primary" id="startBtn">
            <span class="dot"></span>
            Start Recap
          </button>

          <div class="status" id="status">
            <span class="badge neutral">Idle</span>
            <span class="status-text">S·∫µn s√†ng.</span>
          </div>

          <div class="progress hidden" id="progressWrap">
            <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
            <div class="progress-hint" id="progressHint">ƒêang x·ª≠ l√Ω‚Ä¶</div>
          </div>
        </div>
      </section>

      <!-- Right: Results -->
      <section class="card">
        <div class="card-head">
          <h2 class="card-title">Output</h2>

          <div class="tabs" role="tablist">
            <button class="tab active" data-tab="summary" role="tab">Summary</button>
            <button class="tab" data-tab="transcript" role="tab">Transcript</button>
            <button class="tab" data-tab="json" role="tab">JSON</button>
          </div>
        </div>

        <div class="panel" id="panelEmpty">
          <div class="empty">
            <div class="empty-icon">‚ú®</div>
            <div class="empty-title">Ch∆∞a c√≥ k·∫øt qu·∫£</div>
            <div class="empty-sub">Upload audio v√† b·∫•m <b>Start Recap</b> ƒë·ªÉ b·∫Øt ƒë·∫ßu.</div>
          </div>
        </div>

        <div class="panel hidden" id="panelResult">
          <div class="tabview" id="view-summary">
            <div class="summary" id="summary"></div>
          </div>

          <div class="tabview hidden" id="view-transcript">
            <div class="transcript" id="transcript"></div>
          </div>

          <div class="tabview hidden" id="view-json">
            <pre class="code" id="json"></pre>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <span>Create and Work by MaX Phan</span>
    </footer>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
